<p>小龙女，自从我们第一次相见，时间，已经过去了：</p>
<div id="elapseClock">
<span class="digit">0</span> year <span class="digit">2</span> month <span class="digit">0</span> day <span class="digit">07</span> hr <span class="digit">22</span> min <span class="digit">33</span> sec</div>
<br />
<p>在看到你的那一刻，我心动了</p>
<canvas height="500" id="c" width="500"></canvas>
<br />
<p>身为IT男的我，不太会玩浪漫，我也不会说太多的甜言蜜语，我用写代码的方式创造了这个页面，生成了这只玫瑰花，它只为你而开放。</p>
<br />
<p>我，其实不是很会谈恋爱，有时候，可能不知道该做什么，但是，至少现在，别人能做到的，我都会努力的去做。</p>
<br />
<iframe width="100%" height="100" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/298440551%3Fsecret_token%3Ds-9pkdJ&amp;auto_play=false&amp;hide_related=false&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;visual=false"></iframe>
<p>我们的第一个合唱^</p>
<br />

<br />

<br />

</div>
<script> 
    var b = document.body;
    var c = document.getElementsByTagName('canvas')[0];
    var a = c.getContext('2d');
    var canvas = document.getElementsByTagName('canvas')[0];
    var ctx = canvas.getContext('2d');
    document.body.clientWidth; 

    with(m=Math)C=cos,S=sin,P=pow,R=random;
    c.width=c.height=f=500;h=-250;
    function p(a,b,c){
        if(c>60)
            return[S(a*7)*(13+5/(.2+P(b*4,4)))-S(b)*50,b*f+50,625+C(a*7)*(13+5/(.2+P(b*4,4)))+b*400,a*1-b/2,a];
        A=a*2-1;
        B=b*2-1;
        if(A*A+B*B<1)
        {
            if(c>37)
            {
                n=(j=c&1)?6:4;o=.5/(a+.01)+C(b*125)*3-a*300;
                w=b*h;
                return[o*C(n)+w*S(n)+j*610-390,o*S(n)-w*C(n)+550-j*350,1180+C(B+A)*99-j*300,.4-a*.1+P(1-B*B,-h*6)*.15-a*b*.4+C(a+b)/5+P(C((o*(a+1)+(B>0?w:-w))/25),30)*.1*(1-B*B),o/1e3+.7-o*w*3e-6]
            }
            if(c>32)
            {
                c=c*1.16-.15;o=a*45-20;w=b*b*h;z=o*S(c)+w*C(c)+620;
                return[o*C(c)-w*S(c),28+C(B*.5)*99-b*b*b*60-z/2-h,z,(b*b*.3+P((1-(A*A)),7)*.15+.3)*b,b*.7]
            }
            o=A*(2-b)*(80-c*2);
            w=99-C(A)*120-C(b)*(-h-c*4.9)+C(P(1-b,7))*50+c*2;z=o*S(c)+w*C(c)+700;
            return[o*C(c)-w*S(c),B*99-C(P(b, 7))*50-c/3-z/1.35+450,z,(1-b/1.2)*.9+a*.1, P((1-b),20)/4+.05]
        }
    }
    var draw = setInterval('for(i=0;i<1e4;i++)if(s=p(R(),R(),i%46/.74)){z=s[2];x=~~(s[0]*f/z-h);y=~~(s[1]*f/z-h);if(!m[q=y*f+x]|m[q]>z)m[q]=z,a.fillStyle="rgb("+~(s[3]*h)+","+~(s[4]*h)+","+~(s[3]*s[3]*-80)+")",a.fillRect(x,y,1,1)}',0);

    var demo = document.getElementById('demo');
    function redraw(){
        /*
        var d_c = document.createElement("canvas");
        d_c.setAttribute("id","c");
        d_c.setAttribute("width","520");
        d_c.setAttribute("height","500");
        demo.appendChild(d_c);
        */
        draw = setInterval('for(i=0;i<1e4;i++)if(s=p(R(),R(),i%46/.74)){z=s[2];x=~~(s[0]*f/z-h);y=~~(s[1]*f/z-h);if(!m[q=y*f+x]|m[q]>z)m[q]=z,a.fillStyle="rgb("+~(s[3]*h)+","+~(s[4]*h)+","+~(s[3]*s[3]*-80)+")",a.fillRect(x,y,1,1)}',0);
        //alert(d_c);
    }

    function clear_canvas()
    {
        ctx.clearRect(0,0,520,500);
        //canvas.parentNode.removeChild(canvas);   //删除
    }

    function stop_draw(obj){
        clearInterval(obj);
    }

</script>

<script>
var displayMode = 1;
  var together = new Date();
  together.setFullYear(2016, 11, 13);
  together.setHours(15);
  together.setMinutes(0);
  together.setSeconds(0);
  together.setMilliseconds(0);

setInterval(function () {
    timeElapse(together, displayMode);
   }, 500);

function getDaysInMonth(month) {
 var data = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
 return data[month];
}

function timeElapse(date, mode) {
 var current = new Date();
 var years = NaN;
 var months = NaN;
 var days = NaN;
 var hours = NaN;
 var minutes = NaN;
 var seconds = NaN;
 seconds = current.getSeconds() - date.getSeconds();
 if (seconds < 0) {
  seconds += 60;
  current.setMinutes(current.getMinutes() - 1);
 }
 minutes = current.getMinutes() - date.getMinutes();
 if (minutes < 0) {
  minutes += 60;
  current.setHours(current.getHours() - 1);
 }
 hours = current.getHours() - date.getHours();
 if (hours < 0) {
  hours += 24;
  current.setDate(current.getDate() - 1);
 }
 
  days = current.getDate() - date.getDate();

  if (days < 0) {
   days += getDaysInMonth(current.getMonth());
   current.setDate(current.getDate() - 1);
  }

  months = current.getMonth() - date.getMonth() + 1;

  years = current.getFullYear() - date.getFullYear();

 if (hours < 10) {
  hours = "0" + hours;
 }
 if (minutes < 10) {
  minutes = "0" + minutes;
 }
 if (seconds < 10) {
  seconds = "0" + seconds;
 }


 var result = "<span class=\"digit\">" + years + "</span> 年 ";
 result += "<span class=\"digit\">" + months + "</span> 个月 ";
 result += "<span class=\"digit\">" + days + "</span> 天 ";
 result += "<span class=\"digit\">" + hours + "</span> 小时 ";
 result += "<span class=\"digit\">" + minutes + "</span> 分钟 ";
 result += "<span class=\"digit\">" + seconds + "</span> 秒";

document.getElementById("elapseClock").innerHTML = result;

}

</script>
  
 
